var MSG_HEADER_FONT="Verdana, sans-serif",MSG_CONTENT_FONT="Verdana, sans-serif",MSG_SUCCESS_COLOUR="#4caf50",MSG_INFO_COLOUR="#2196F3",MSG_WARNING_COLOUR="#ff9800",MSG_ERROR_COLOUR="#d32f2f",MSG_CONFIRM_COLOUR="#7308B0",MSG_INPUT_COLOUR="#7308B0",MSG_TEXT_OK="OK",MSG_TEXT_CANCEL="Cancel",MSG_TEXT_CONFIRM_OK="OK",MSG_TEXT_CONFIRM_CANCEL="Cancel",MSG_TEXT_SUCCESS="Success!",MSG_TEXT_INFO="Info...",MSG_TEXT_WARNING="Warning!",MSG_TEXT_ERROR="Error!",MSG_TEXT_CONFIRM="Confirm?",MSG_TEXT_INPUT="Input";
function mainMsg(){return document.getElementById("msg-main")}var onMsgKeyDown=function(b){var d=document.getElementById("msg-close"),g=document.getElementById("msg-cancel");b=b||window.event;"Escape"===b.key&&(g?g.click():d&&d.click());"Enter"===b.key&&d&&d.click()};
function buildMsg(b,d,g,f){var h=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),n=document.createElement("i"),p=document.createElement("h2"),m=document.createElement("div"),k=document.createElement("div"),e=document.createElement("button"),t=document.createElement("i"),l,q,r;if("confirm"==b.toLowerCase()||"input"==b.toLowerCase())l=document.createElement("button"),q=document.createElement("i");"input"==b.toLowerCase()&&(r=document.createElement("input"),
r.type="text",r.id="msg-input");h.style.display="none";h.id="msg-main";h.classList.add("msg-main");a.id="msg-content";a.classList.add("msg-content");h.appendChild(a);c.id="msg-header";c.classList.add("msg-header");a.appendChild(c);n.id="msg-icon";n.classList.add("material-icons","msg-icon");"function"===typeof isExtension&&isExtension()&&(n.style.paddingTop="5px");c.appendChild(n);p.id="msg-title";p.classList.add("msg-title");c.appendChild(p);m.id="msg-body";m.classList.add("msg-body");a.appendChild(m);
"input"==b.toLowerCase()&&m.appendChild(r);k.id="msg-footer";k.classList.add("msg-footer");a.appendChild(k);e.id="msg-close";e.classList.add("msg-close");e.innerHTML="confirm"==b.toLowerCase()?MSG_TEXT_CONFIRM_OK:MSG_TEXT_OK+"&nbsp;";e.onclick=function(){var a=document.getElementById("msg-input"),c=a?a.value:"";if(a&&!c)return a.focus(),!1;closeMsg();"function"===typeof d&&("input"==b.toLowerCase()?d(f,c):d(e))};k.appendChild(e);t.classList.add("material-icons");t.innerHTML="check";e.appendChild(t);
if("confirm"==b.toLowerCase()||"input"==b.toLowerCase())l.id="msg-cancel",l.classList.add("msg-close"),l.innerHTML="confirm"==b.toLowerCase()?MSG_TEXT_CONFIRM_CANCEL:MSG_TEXT_CANCEL+"&nbsp;",l.onclick=function(){closeMsg();"function"===typeof g&&g(l)},k.appendChild(l),q.classList.add("material-icons"),q.innerHTML="close",l.appendChild(q);document.body.appendChild(h)}
function showMsg(b,d,g,f,h,a){if("undefined"===typeof d||""===d)return!1;buildMsg(b,g,f,a);g=document.getElementById("msg-content");f=document.getElementById("msg-icon");a=document.getElementById("msg-title");var c=document.getElementById("msg-header"),n=document.getElementById("msg-footer"),p=document.getElementById("msg-body"),m=document.getElementById("msg-close"),k=document.getElementById("msg-cancel");switch(b.toLowerCase()){case "success":c.style.backgroundColor=MSG_SUCCESS_COLOUR;f.innerHTML=
"check_circle";a.innerHTML=MSG_TEXT_SUCCESS;break;case "info":c.style.backgroundColor=MSG_INFO_COLOUR;f.innerHTML="info";a.innerHTML=MSG_TEXT_INFO;break;case "warning":c.style.backgroundColor=MSG_WARNING_COLOUR;f.innerHTML="warning";a.innerHTML=MSG_TEXT_WARNING;break;case "error":c.style.backgroundColor=MSG_ERROR_COLOUR;f.innerHTML="error";a.innerHTML=MSG_TEXT_ERROR;break;case "confirm":c.style.backgroundColor=MSG_CONFIRM_COLOUR;f.innerHTML="help";a.innerHTML=MSG_TEXT_CONFIRM;break;case "input":c.style.backgroundColor=
MSG_INPUT_COLOUR;f.innerHTML="input";a.innerHTML=MSG_TEXT_INPUT;break;default:return!1}p.innerHTML=d+p.innerHTML;var e;h&&(e=document.getElementById("msg-input"))&&(e.value=h);c.style.fontFamily=MSG_HEADER_FONT;n.style.fontFamily=MSG_HEADER_FONT;g.style.fontFamily=MSG_CONTENT_FONT;m.style.fontFamily=MSG_HEADER_FONT;k&&(k.style.fontFamily=MSG_HEADER_FONT);mainMsg().style.display="block";document.addEventListener("keydown",onMsgKeyDown,!1);e?e.focus():m.focus();return!0}
function closeMsg(){mainMsg().style.display="none";mainMsg().remove();document.removeEventListener("keydown",onMsgKeyDown,!1)};
